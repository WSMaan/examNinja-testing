import io.restassured.RestAssured;
import org.testng.Assert;
import org.testng.annotations.Test;

public class PasswordUpdateTest {

    @Test
    public void testHomepageStatus() {
        RestAssured
                .given()
                .when()
                .get("https://www.bbc.com")
                .then()
                .assertThat()
                .statusCode(200);

        // Print a success message if the test passes
        System.out.println("Test 'testHomepageStatus' passed: The homepage status is 200 OK.");
    }

    @Test
    public void testHomepageContentType() {
        String contentType = RestAssured
                .given()
                .when()
                .get("https://www.bbc.com")
                .then()
                .extract()
                .contentType();

        // Check if content type starts with text/html
        Assert.assertTrue(contentType.startsWith("text/html"),
                "Content type is not HTML. Expected: text/html, Actual: " + contentType);

        // Print a success message if the test passes
        System.out.println("Test 'testHomepageContentType' passed: The content type is HTML.");
    }

    @Test
    public void testHomepageLinks() {
        String homepage = RestAssured
                .given()
                .when()
                .get("https://www.bbc.com")
                .then()
                .extract()
                .body()
                .asString();

        // Check if "News" link is present
        Assert.assertTrue(homepage.contains("News"),
                "Link to News is missing");

        // Print a success message if the test passes
        System.out.println("Test 'testHomepageLinks' passed: The 'News' link is present.");
    }

    @Test
    public void testHomepageTitle() {
        String title = RestAssured
                .given()
                .when()
                .get("https://www.bbc.com")
                .then()
                .extract()
                .htmlPath()
                .getString("html.head.title");

        // Update this expected title as per the current title of the BBC homepage
        Assert.assertEquals(title, "BBC - Home", "Homepage title is not as expected");

        // Print a success message if the test passes
        System.out.println("Test 'testHomepageTitle' passed: The homepage title is as expected.");
    }
}
